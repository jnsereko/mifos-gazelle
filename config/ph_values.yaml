
ph-ee-engine:
  # javaOpts:
  # minHeap: 192m
  # maxHeap: 256m
  # debugPort: 5005

  # global: 
  #   tenants: "greenbank,bluebank"
  #   DFSPIDS: "greenbank,bluebank" 

  elasticsearch:
    enabled: false

  kibana:
    enabled: false

  operations_web:
    image: docker.io/openmf/ph-ee-operations-web:dev1 



  # importer_rdbms:
    # env:
    #   - name: TENANTS_CONNECTIONS_GREENBANK_SCHEMA_SERVER
    #     value: "fredmysql"
    #   - name: TENANTS_CONNECTIONS_GORILLA_SCHEMA_SERVER
    #     value: "fred2mysql"

    # datasource:
    #   core:
    #     host: "mysql.infra.svc.cluster.local"
    #     port: 3306
    #     schema: "tenants"
    #     username: "mifos"
    #     password: "password"

  # operations_app:
  #   secret:
  #     apiversion: "v1"
  #     datasource:
  #       # username: "mifos"
  #       # password: "password"
  #       host: "mysql.infra.svc.cluster.local"
  #       # port: 3306
  #       # schema: "tenants"

  # operations:
  #   mysql:
  #     enabled: false

  camunda-platform:
    global:
      elasticsearch:
        # Elasticsearch.disableExporter if true, disables the elastic exporter in zeebe
        disableExporter: false
        host: "infra-elasticsearch.infra.svc.cluster.local"
        port: 9200
        clusterName: "fred"
      identity:
        auth:
          enabled: false

    zeebe:
      enabled: true
      logLevel: debug
      volumeClaimTemplate:
        storageClassName: "local-path"

      clusterSize: "1"
      partitionCount: "1"
      replicationFactor: "1"
      cpuThreadCount: "1"
      ioThreadCount: "1"

      resources:
        requests:
          cpu: 800m
          memory: 1200Mi
        limits:
          cpu: 960m
          memory: 1920Mi  
      affinity: {}  

    zeebe-gateway:
      enabled: false
      replicas: 1
      logLevel: debug

      resources:
        requests:
          cpu: 400m
          memory: 450Mi
        limits:
          cpu: 400m
          memory: 450Mi  
      affinity: {}

      ingress:
        enabled: true
        host: "zeebe-gateway.mifos.gazelle.test"

    operate:
      enabled: true
      replicas: 1
      logging:
        level:
          ROOT: INFO
          io.camunda.operate: DEBUG

      resources:
        requests:
          cpu: 600m
          memory: 400Mi
        limits:
          cpu: 2000m
          memory: 2Gi 
          
      affinity: {}

      ingress:
        enabled: true
        host: "zeebe-operate.mifos.gazelle.test"

    tasklist:
      enabled: false

    optimize:
      enabled: false  

    identity:
      enabled: false

    connectors:
      enabled: false

    elasticsearch:
      enabled: false
  #### end of camunda-platform


  # PH-EE Connector Mojaloop
  # Note 'fred' and 'FRED' are development hooks as we continue to work on end to end integration flows.
  ph_ee_connector_mojaloop:
    enabled: false
    # the following 2 entries used only for dev/test of mojaloop connector 
    # image: mojaloop-connector:gazelle
    imagePullPolicy: "Never"
    image: mojaloop:gazelle1 
    ingress:
      enabled: true
      className: nginx
    switch:
      quotes:
        host: ""
        service: ""
      als:
        host: "fspiop.mifos.gazelle.test"
        service: "fspiop.mifos.gazelle.test"
      transfers:
        host: "fspiop.mifos.gazelle.test"
        service: ""
      transactions:
        host: "fspiop.mifos.gazelle.test"
        service: ""
      oracle:
        host: "fspiop.mifos.gazelle.test"
    deployment:
      extraEnvs:
        - name: parties_0_domain
          value: "mojaloop.mifos.gazelle.test"
        - name: parties_1_domain
          value: "mojaloop.fred.io"
        - name: parties_2_domain
          value: "mojaloop.fred.io"
        - name: parties_3_domain
          value: "mojaloop.fred.io"
        - name: parties_0_tenantId
          value: "greenbank"
        - name: parties_1_tenantId
          value: "bluebank"
        - name: parties_0_fspId
          value: "payerfsp"
        - name: parties_1_fspId
          value: "payeefsp"
        - name: parties_2_fspId
          value: "payeefsp2"
        - name: parties_3_fspId
          value: "payeefsp3"

  ph_ee_connector_ams_mifos:
    enabled: true
    SPRING_PROFILES_ACTIVE: "fin12,bb"
    #image: docker.io/openmf/ph-ee-connector-ams-mifos:v1.7.0
    image: docker.io/devarsh10/ph-ee-connector-ams-mifos:latest

  post_installation_job:
    enabled: false

  integration_test:
    enableAMSTest: false
    enableGOVTest: false
    enableGazelleTest: true 
    imagePullPolicy: IfNotPresent
    image: docker.io/openmf/ph-ee-integration-test:v1.6.2-gazelle
    imagePullPolicy: IfNotPresent
    testTags: "@gov and not @ext"
    memoryRequest: "500k"
    testResultsOutputDir: "/tmp"

# deployment:
#   extraEnvs:
#     - name: TOM_OPTS_2
#       value: "this is FRED2 one of toms deployment options"

  connector_bulk:
    spec:
      template:
        containers:
          env:
            - name: "BP_JAVA_OPTS"
              value: ""
    deployment:
      extraEnvs:
        - name: "TOM_OPTS_2"
          value: "this is FRED2 one of toms deployment options"
        - name: JAVA_OPTS
          value: |
            -Xms128m
            -Xmx256m
            -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005



